set -g default-terminal "screen-256color"

set-window-option -g mode-keys vi
set-option -g allow-rename off
#set-window-option -g utf8 on
#set fillchars+=stl:\ ,stlnc:\ 

unbind C-b
set -g prefix C-a

set -g status-bg colour40
setw -g window-status-current-bg colour40

bind -n C-t new-window -a
bind -n S-left  prev
bind -n S-right next
#bind -n S-C-left  swap-window -t -1
#bind -n S-C-right swap-window -t +1

# smart pane switching with awareness of vim splits
bind -n C-h run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-h) || tmux select-pane -L"
bind -n C-j run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-j) || tmux select-pane -D"
bind -n C-k run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-k) || tmux select-pane -U"
bind -n C-l run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-l) || tmux select-pane -R"
bind -n C-\ run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys 'C-\\') || tmux select-pane -l"

bind -n M-F11 set -qg status-bg colour25
bind -n M-F12 set -qg status-bg colour40
bind -n M-k \
	send-keys M-F12 \; \
	set -qg status-bg colour25 \; \
	unbind -n S-left \; \
	unbind -n S-right \; \
	unbind -n C-t \; \
	unbind -n C-h \; \
	unbind -n C-j \; \
	unbind -n C-k \; \
	unbind -n C-l \; \
	set -qg prefix C-b
bind -n M-j \
	send-keys M-F11 \; \
	set -qg status-bg colour40 \; \
	bind -n S-left  prev \; \
	bind -n S-right next \; \
	bind -n C-t new-window -a -c "#{pane_current_path}" \; \
	bind -n C-h run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-h) || tmux select-pane -L" \; \
	bind -n C-j run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-j) || tmux select-pane -D" \; \
	bind -n C-k run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-k) || tmux select-pane -U" \; \
	bind -n C-l run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-l) || tmux select-pane -R" \; \
	set -qg prefix C-a


bind-key r source-file ~/.tmux.conf

# bind splits to open in the same working directory as the original
bind s split-window -c "#{pane_current_path}"
bind v split-window -h -c "#{pane_current_path}"
#bind c new-window -c "#{pane_current_path}"

bind-key C-v copy-mode

#set -g prefix C-a
#unbind-key C-b
#bind-key C-a send-prefix

source-file "$HOME/.tmux/themes/cyan.tmuxtheme"

# set inactive/active window styles
#set -g window-style 'fg=colour250,bg=colour233'
#set -g window-active-style 'fg=colour250,bg=colour234'
